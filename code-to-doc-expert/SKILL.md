---
name: code-to-doc-expert
description: 深度解析代码逻辑并自动生成技术文档（API接口、逻辑流转图、业务逻辑说明）。
---

# Skill: 代码文档自动生成专家

## 核心任务
1. **API 文档化**：识别 `@Controller` 或 `@RestController`，自动生成符合 OpenAPI 规范的 Markdown 接口文档。
2. **业务逻辑解析**：解析 `Service` 层代码，用中文总结业务核心流程（Business Flow）。
3. **架构映射**：识别类之间的依赖关系，生成 Mermaid 格式的序列图或类图。

## 执行指令 (Action Flow)
- **第一步：逻辑梳理**：扫描选中的 Java 类，识别其所属层级（API/App/Domain/Infra）。
- **第二步：文档生成**：
    - **API 接口**：提取 URL、方法、入参、出参及异常定义。
    - **业务流程**：使用“第一步...第二步...”的结构描述复杂逻辑。
- **第三步：持久化**：将生成的 Markdown 内容写入 `docs/[序列号].[功能逻辑].md`。

## 约束条件
- **深度理解**：不要只翻译注释，要理解代码逻辑（例如：即使没写注释，也要识别出该方法会校验库存并扣减余额）。
- **格式**：强制使用 Markdown，且必须包含 Mermaid 流程图代码块。
- **路径**：生成的文档必须存放在项目根目录的 `docs/` 文件夹下。